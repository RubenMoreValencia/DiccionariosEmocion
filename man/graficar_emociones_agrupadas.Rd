% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/visualizacion_modelos.R
\name{graficar_emociones_agrupadas}
\alias{graficar_emociones_agrupadas}
\title{Graficar emociones agrupadas (positivo, negativo, activación)}
\usage{
graficar_emociones_agrupadas(
  emocion_agru_df,
  titulo = "Emociones agrupadas",
  normalizar = c("none", "percent", "prop"),
  ordenar = c("none", "desc", "asc"),
  mostrar_etiquetas = TRUE,
  digits = 1,
  palette = NULL
)
}
\arguments{
\item{emocion_agru_df}{\code{data.frame} de una fila con columnas de categorías
(p. ej., \code{positivo}, \code{negativo}, \code{activacion}) o un \code{numeric}
con nombres (vector con nombres).}

\item{titulo}{\code{character}. Título del gráfico. Por defecto \code{"Emociones agrupadas"}.}

\item{normalizar}{\code{c("none","percent","prop")}. \code{"none"}: usa los valores tal cual;
\code{"percent"}: escala a porcentaje (suma=100); \code{"prop"}: escala a proporción (suma=1).}

\item{ordenar}{\code{c("none","desc","asc")}. Orden de barras por valor (desc/asc) o sin ordenar.}

\item{mostrar_etiquetas}{\code{logical}. Si \code{TRUE}, añade etiquetas sobre las barras.}

\item{digits}{\code{integer}. Decimales para etiquetas en modo \code{"percent"} o \code{"prop"}.}

\item{palette}{\code{NULL}, nombre de paleta de \pkg{ggplot2} (p. ej. \code{"Dark2"}),
o vector de colores (mismo largo que categorías).}

\item{"percent"}{(auto) TODO: describir parámetro.}

\item{"prop"}{(auto) TODO: describir parámetro.}
}
\value{
Una \code{list} con:
\itemize{
\item \code{grafico}: objeto \code{ggplot2}.
\item \code{datos}: \code{data.frame} con \code{categoria}, \code{valor}, \code{valor_plot}.
\item \code{total}: suma original (antes de normalizar).
}
}
\description{
Genera un gráfico de barras a partir de un resumen de categorías emocionales
(p. ej., \code{positivo}, \code{negativo}, \code{activacion}). Soporta entradas
como vector con nombres o \code{data.frame} de una fila, opciones de
normalización/ordenamiento y etiquetas porcentuales.
}
\details{
Esta función es agnóstica del origen de los valores (frecuencias, sumas,
intensidades). Si se especifica \code{normalizar = "percent"} los ejes y
etiquetas se muestran en porcentaje sobre el total. Para \code{normalizar = "prop"}
se devuelven proporciones en  \code(reescala a \verb{[0, 1]}. \code{"none"}.
}
\examples{
\dontrun{
# 1) Con salida típica de agrupar_emociones(): data.frame de 1 fila
df1 <- data.frame(positivo = 120, negativo = 80, activacion = 60)
p1 <- graficar_emociones_agrupadas(df1, normalizar = "percent", ordenar = "desc",
                                   titulo = "Perfil emocional (porcentaje)")
print(p1$grafico)

# 2) Con vector con nombres
v <- c(positivo = 40, negativo = 25, activacion = 35)
p2 <- graficar_emociones_agrupadas(v, normalizar = "prop", mostrar_etiquetas = TRUE)
print(p2$grafico)

# 3) Integración rápida con tus datos (ejemplo):
# emo_cols_pos <- c("alegría","confianza","anticipación","sorpresa")
# emo_cols_neg <- c("ira","disgusto","miedo","tristeza")
# df_agru <- data.frame(
#   positivo   = sum(colSums(acdfx[, emo_cols_pos, drop=FALSE])),
#   negativo   = sum(colSums(acdfx[, emo_cols_neg, drop=FALSE])),
#   activacion = sum(colSums(acdfx[, c("sorpresa","ira","miedo"), drop=FALSE]))
# )
# g <- graficar_emociones_agrupadas(df_agru, normalizar="percent", ordenar="desc")
# print(g$grafico)
}
}
\seealso{
Other visualizacion: 
\code{\link{CrearGraficoSentimiento}()},
\code{\link{estrategia_p6_estabilidad_visual}()},
\code{\link{graficar_importancia_variables}()},
\code{\link{graficar_pr_multiclase}()},
\code{\link{graficar_roc_multiclase}()},
\code{\link{save_plot_list}()},
\code{\link{visualizar_curvas_sentimiento}()},
\code{\link{visualizar_mapa_emocional}()},
\code{\link{visualizar_modelo_polinomial}()}
}
\concept{visualizacion}
