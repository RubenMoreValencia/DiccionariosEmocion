% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/visualizacion_modelos.R
\name{visualizar_emociones_nrc}
\alias{visualizar_emociones_nrc}
\title{Visualizar emociones NRC por sentimiento}
\usage{
visualizar_emociones_nrc(
  matriz_emociones,
  idioma = "es",
  funcion_traduccion = NULL,
  normalizar = c("porcentaje", "frecuencia"),
  top_n = NULL,
  palette = NULL,
  digits = 2,
  mostrar_polaridades = FALSE
)

visualizar_emociones_nrc(
  matriz_emociones,
  idioma = "es",
  funcion_traduccion = NULL,
  normalizar = c("porcentaje", "frecuencia"),
  top_n = NULL,
  palette = NULL,
  digits = 2,
  mostrar_polaridades = FALSE
)
}
\arguments{
\item{matriz_emociones}{\code{data.frame} o \code{matrix} con conteos por emoción
(por columnas) – típico de \code{resultados$VectorTextoSentimientosNRC}.}

\item{idioma}{\code{character}. Código/descriptor de idioma de destino para las
etiquetas (p.ej., \code{"es"}, \code{"pt"}). Solo se usa si \code{funcion_traduccion} no es \code{NULL}.}

\item{funcion_traduccion}{\code{function} opcional para traducir el vector de nombres
de emociones. Debe aceptar al menos un vector de \code{character}. Si además acepta
argumento \code{idioma}, se intentará llamar como \code{func(vec, idioma=idioma)}.}

\item{normalizar}{\code{c("porcentaje","frecuencia")}. Modo de la barra: porcentaje dentro
del grupo de emociones (no incluye polaridades) o frecuencia absoluta. Por defecto \code{"porcentaje"}.}

\item{top_n}{\code{integer} opcional. Si se indica, muestra solo las \code{top_n} emociones
con mayor valor (según \code{normalizar}).}

\item{palette}{\code{character} opcional. Vector de colores para \code{fill}; si \code{NULL}
usa \code{viridisLite::viridis(n)}.}

\item{digits}{\code{integer}. Decimales para el porcentaje. Por defecto \code{2}.}

\item{mostrar_polaridades}{\code{logical}. Si \code{TRUE}, devuelve también un gráfico de
polaridades (positivo/negativo). Por defecto \code{FALSE}.}

\item{"frecuencia"}{(auto) TODO: describir parámetro.}
}
\value{
una lista con un gráfico de barras ggplot de emociones básicas, y dos data.frames con porcentajes por grupo

Una \code{list} con:
\itemize{
\item \code{grafico_emociones}: \code{ggplot} de emociones (sin positivo/negativo).
\item \code{tabla_emociones}: \code{data.frame} con \code{Emocion}, \code{Frecuencia}, \code{Porcentaje}.
\item \code{tabla_polaridades}: \code{data.frame} de polaridades (si existen columnas).
\item \code{grafico_polaridades}: \code{ggplot} de polaridades (solo si \code{mostrar_polaridades=TRUE}).
}
}
\description{
Muestra un gráfico de barras de la intensidad relativa (porcentual) de cada emoción NRC (excluye positivo y negativo) en un idioma específico. Calcula porcentajes por separado para emociones y polaridades.

Muestra un gráfico de barras de la intensidad relativa (porcentual) o absoluta (frecuencia)
de cada emoción NRC (excluye \code{"positive"} y \code{"negative"}), y calcula
porcentajes por separado para emociones y polaridades. Permite traducir las etiquetas de
emociones pasando una función de traducción.
}
\details{
Título (auto) — reemplazar por uno descriptivo.
}
\examples{
visualizar_emociones_nrc(resultados$VectorTextoSentimientosNRC, idioma = "es", funcion_traduccion = traducir_emociones)
\dontrun{
# Uso básico con salida de UnirExcelITFF_Optimizada():
out <- visualizar_emociones_nrc(resultados$VectorTextoSentimientosNRC, idioma = "es")
out$grafico_emociones
out$tabla_emociones

# Con top-5 y porcentajes:
out <- visualizar_emociones_nrc(resultados$VectorTextoSentimientosNRC, top_n = 5)

# Mostrar también polaridades y sin normalizar (frecuencia):
out <- visualizar_emociones_nrc(resultados$VectorTextoSentimientosNRC,
                                normalizar = "frecuencia", mostrar_polaridades = TRUE)

# Con función de traducción:
traducir_emociones <- function(x, idioma="es") {
  dic <- c(anger="ira", anticipation="anticipación", disgust="disgusto", fear="miedo",
           joy="alegría", sadness="tristeza", surprise="sorpresa", trust="confianza",
           positive="positivo", negative="negativo")
unname(ifelse(x \\%in\\% names(dic), dic[x], x))
}
out <- visualizar_emociones_nrc(resultados$VectorTextoSentimientosNRC,
                                idioma="es", funcion_traduccion=traducir_emociones)
}
}
\seealso{
Other matrices_valoradas: 
\code{\link{MatrizValoradaXMetodo}()},
\code{\link{visualizar_coocurrencia_nrc}()},
\code{\link{visualizar_coocurrencia_nrc_v2}()}
}
\concept{matrices_valoradas}
