% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/visualizacion_modelos.R
\name{graficar_pca_emociones}
\alias{graficar_pca_emociones}
\title{Graficar proyecciones PCA con estructura emocional}
\usage{
graficar_pca_emociones(
  pca,
  data,
  labels = NULL,
  componentes = c(1, 2),
  titulo = "PCA de emociones",
  label_points = TRUE,
  ellipse = TRUE,
  ellipse_type = "norm",
  ellipse_level = 0.95,
  palette = NULL,
  point_size = 1.8,
  point_alpha = 0.75,
  loading_scale = 1,
  top_n_loadings = NULL
)
}
\arguments{
\item{pca}{Objeto de clase \code{prcomp}.}

\item{data}{\code{data.frame} con las variables originales (sin transformar). Si contiene
exactamente las mismas columnas usadas en \code{prcomp}, \code{predict()} aplicará
el centrado/escalado almacenado en \code{pca} automáticamente.}

\item{labels}{Vector (factor/character) con la clase para colorear puntos. Debe tener
la misma longitud que \code{nrow(data)}. Si es \code{NULL}, se usa \code{rownames(data)}
o índices.}

\item{componentes}{Integer vector con los índices de componentes a graficar. Por defecto \code{c(1, 2)}.}

\item{titulo}{Character. Título base para los gráficos. Por defecto \code{"PCA de emociones"}.}

\item{label_points}{Logical. Si \code{TRUE}, muestra etiquetas de los puntos con \pkg{ggrepel}. Por defecto \code{TRUE}.}

\item{ellipse}{Logical. Si \code{TRUE}, dibuja elipses por grupo en el gráfico 2. Por defecto \code{TRUE}.}

\item{ellipse_type}{Character. Tipo de elipse; opciones \code{"norm"}, \code{"t"}, \code{"euclid"}.
Por defecto \code{"norm"}.}

\item{ellipse_level}{Numeric. Nivel de confianza de la elipse (ej., 0.95). Por defecto \code{0.95}.}

\item{palette}{Vector de colores o nombre de paleta (p.ej., \code{"Dark2"}) para clases.
Si \code{NULL}, usa escala discreta por defecto de ggplot2.}

\item{point_size}{Numeric. Tamaño de los puntos. Por defecto \code{1.8}.}

\item{point_alpha}{Numeric. Transparencia de los puntos en \eqn{[0, 1]}. Por defecto \code{0.75}.}

\item{loading_scale}{Numeric. Factor para escalar las flechas de cargas cuando \code{length(componentes) == 2}.
Útil si las cargas quedan muy cortas/largas respecto al marco. Por defecto \code{1}.}

\item{top_n_loadings}{Integer o \code{NULL}. Si se indica, etiqueta solo las \code{top_n_loadings}
variables con mayor norma de carga en el plano seleccionado. Por defecto \code{NULL} (todas).}

\item{2}{(auto) TODO: describir parámetro.}
}
\value{
Una \code{list} con:
\itemize{
\item \code{scatter}: \code{ggplot} de dispersión coloreado por clase.
\item \code{elipses}: \code{ggplot} con elipses por grupo (si \code{ellipse=TRUE}).
\item \code{cargas}: \code{ggplot} con vectores de carga (si \code{length(componentes)==2}).
\item \code{data_proyectada}: \code{data.frame} con PCX, PCY, Clase y Etiqueta.
\item \code{loadings}: \code{data.frame} con las cargas usadas en \code{cargas} (o \code{NULL}).
\item \code{var_exp}: \code{numeric} con varianza explicada (proporciones) para todos los PCs.
}
}
\description{
Genera visualizaciones a partir de un objeto definido por \code{prcomp()}:
(1) dispersión de individuos coloreada por clase (opcionalmente con etiquetas y elipses),
(2) el mismo scatter con elipses por grupo,
(3) vectores de carga (loadings) en 2D.
Los ejes incluyen el \\% de varianza explicada por cada componente.
}
\examples{
\dontrun{
# Supón que acdfx_emoc contiene solo columnas de emociones numéricas:
pca <- prcomp(acdfx_emoc, center = TRUE, scale. = TRUE)
clases <- acdfx$category  # p.ej., "positivo"/"negativo"/"neutral"

g <- graficar_pca_emociones(
  pca = pca,
  data = acdfx_emoc,
  labels = clases,
  componentes = c(1, 2),
  titulo = "PCA emociones",
  palette = "Dark2",
  top_n_loadings = 12,
  loading_scale = 1.2
)
print(g$scatter); print(g$elipses); print(g$cargas)
head(g$data_proyectada)
}
}
\seealso{
Other reduccion_dimensional: 
\code{\link{ajustar_pca_svm}()},
\code{\link{estrategia_p4_pca_cluster}()},
\code{\link{generar_pca_emocional}()},
\code{\link{graficar_pca_emociones_etiquetas}()},
\code{\link{pca_tokens_biplot}()},
\code{\link{pca_tokens_plot}()},
\code{\link{resModeloPCA}()},
\code{\link{run_pca}()},
\code{\link{simular_pca_svm}()}
}
\concept{reduccion_dimensional}
