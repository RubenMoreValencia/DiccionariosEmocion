% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/visualizacion_modelos.R
\name{analizar_tokens_extremos}
\alias{analizar_tokens_extremos}
\title{Analizar y visualizar tokens extremos por lexicón (lollipop + tablas)}
\usage{
analizar_tokens_extremos(
  matriz_comparativa,
  n = 10,
  idioma = NULL,
  funcion_traduccion = NULL,
  metodos = NULL,
  scale_method = c("none", "zscore", "range01"),
  facet = TRUE,
  print_tables = FALSE
)
}
\arguments{
\item{matriz_comparativa}{\code{data.frame} o \code{matrix} con columnas por lexicón
(por ejemplo: \code{syuzhet}, \code{bing}, \code{afinn}, \code{nrc}) y filas como tokens.
Debe tener \code{rownames} con los tokens (si no, se generan índices).}

\item{n}{\code{integer}. Número de tokens extremos a mostrar por cada extremo y método.
Por defecto \code{10}.}

\item{idioma}{\code{character} opcional. Código/descriptor de idioma para traducir tokens
(por ejemplo, \code{"es"}). Se usa solo si \code{funcion_traduccion} no es \code{NULL}.}

\item{funcion_traduccion}{\code{function} opcional que traduzca un vector de \code{character}.
Si además acepta argumento \code{idioma}, se intentará llamar como
\code{funcion_traduccion(x, idioma = idioma)}.}

\item{metodos}{\code{character} opcional. Subconjunto de columnas a procesar. Si \code{NULL},
se usan todas las columnas numéricas.}

\item{scale_method}{\code{c("none","zscore","range01")}. Escalamiento de cada método antes
de seleccionar extremos: \code{"none"} (sin escalamiento), \code{"zscore"} (media 0, sd 1),
\code{"range01"} (reescala a \verb{[0, 1]} por método). Por defecto \code{"none"}.}

\item{facet}{\code{logical}. Si \code{TRUE}, facetear por método en el gráfico. Por defecto \code{TRUE}.}

\item{print_tables}{\code{logical}. Si \code{TRUE}, imprime tablas en consola (útil en notebooks).
Por defecto \code{FALSE}. (No requiere \pkg{knitr}; puedes formatear tú con \code{knitr::kable}).}

\item{"zscore"}{(auto) TODO: describir parámetro.}

\item{"range01"}{(auto) TODO: describir parámetro.}
}
\value{
Una \code{list} con:
\itemize{
\item \code{tabla_positivos}: lista de data.frames por método (Top positivos).
\item \code{tabla_negativos}: lista de data.frames por método (Top negativos).
\item \code{tabla_combinada}: data.frame largo con columnas \code{Metodo}, \code{Token}, \code{Valor}, \code{Tipo}, \code{Rank}.
\item \code{grafico}: objeto \code{ggplot} con el lollipop.
\item \code{metodos_usados}: vector de métodos efectivamente procesados.
}
}
\description{
Identifica los \emph{tokens} más positivos y más negativos en una matriz comparativa
de lexicones y los muestra en un gráfico tipo \emph{lollipop} y tablas. Soporta:
selección de métodos, traducción opcional de tokens, escalamiento por método y
control de salida (sin imprimir por consola).
}
\examples{
\dontrun{
# Usando tu objeto:
mc <- resultados$MatrizSimplificadaTokensValorados$MatrizTranspuestaSinDup
out <- analizar_tokens_extremos(mc, n = 12, metodos = c("syuzhet","bing","afinn","nrc"),
                                scale_method = "zscore")
print(out$grafico)
head(out$tabla_combinada)

# Con traducción de tokens:
traducir <- function(x, idioma="es") x  # reemplaza por tu traductor
out2 <- analizar_tokens_extremos(mc, n = 8, funcion_traduccion = traducir, idioma = "es")
}
}
\seealso{
Other utilidades: 
\code{\link{DividirPorPercentiles}()},
\code{\link{GenerarDataframeT}()},
\code{\link{LimpiaTexto}()},
\code{\link{TabContingencia_MaxMinXFila}()},
\code{\link{TraduceA}()},
\code{\link{UnirExcelITFF_Optimizada}()},
\code{\link{agregar_recuento_filas}()},
\code{\link{agrupar_emociones}()},
\code{\link{ajustar_gradient_boosting}()},
\code{\link{ajustar_red_nn_unificada}()},
\code{\link{ajustar_regresion_multinomial}()},
\code{\link{ajustar_rnn_regresion}()},
\code{\link{ajustar_rnn_regresion_torch}()},
\code{\link{analizar_coherencia_metodos}()},
\code{\link{analizar_comentarios}()},
\code{\link{analizar_comentarios_ReEscalado}()},
\code{\link{analizar_comentarios_ReEscalado_general}()},
\code{\link{analizar_comentarios_ReEscalado_v3}()},
\code{\link{analizar_comentarios_XP}()},
\code{\link{analizar_consistencia_lexicos}()},
\code{\link{analizar_consistencia_lexicos_v2}()},
\code{\link{analizar_correlaciones_metodos}()},
\code{\link{analizar_emociones_texto}()},
\code{\link{analizar_percentiles_columna}()},
\code{\link{analizar_percentiles_columnaBinaria}()},
\code{\link{anotar_tokens_idioma_simple}()},
\code{\link{as_df_safe}()},
\code{\link{build_emotion_indices}()},
\code{\link{calcular_ensamble_ponderado}()},
\code{\link{calcular_puntaje_emocional}()},
\code{\link{calibrar_metodo_referencia}()},
\code{\link{cambiar_nombres_columnas}()},
\code{\link{categorizar_indices}()},
\code{\link{categorizar_por_percentiles}()},
\code{\link{categorizar_por_percentiles_full}()},
\code{\link{cluster_emotion_spaces}()},
\code{\link{cluster_hclust_cut}()},
\code{\link{cluster_kmeans_auto}()},
\code{\link{configurar_openai_clave}()},
\code{\link{convertir_a_factores_arbol}()},
\code{\link{crear_diccionario_emociones}()},
\code{\link{eliminar_filas_repetidas}()},
\code{\link{eliminarduplicados}()},
\code{\link{emocion_mas_fuerte}()},
\code{\link{estrategia_p1_preparacion}()},
\code{\link{estrategia_p3_ensamble}()},
\code{\link{estrategia_p5_clusters}()},
\code{\link{extraer_features_emocionales}()},
\code{\link{filtrar_diccionario}()},
\code{\link{generar_reporte_html}()},
\code{\link{guardarDataFrameCSV}()},
\code{\link{interseccionDataFrames}()},
\code{\link{leerCSVConNombres}()},
\code{\link{mostrar_diccionario_emociones}()},
\code{\link{p7_exportar_reporte_maestro}()},
\code{\link{pipeline_emociones}()},
\code{\link{predecir_nivel_bin}()},
\code{\link{procesar_emociones_comentarios}()},
\code{\link{run_fa}()},
\code{\link{safe_write_csv}()},
\code{\link{segmentar_consistencia_lexicos}()},
\code{\link{simular_arbol}()},
\code{\link{simular_comparacion_todos}()},
\code{\link{simular_random_forest}()},
\code{\link{simular_red_neuronal}()},
\code{\link{simular_red_nn_unificada}()},
\code{\link{simular_regresion}()},
\code{\link{simular_regresion_multinomial}()},
\code{\link{simular_rnn_regresion}()},
\code{\link{simular_rnn_regresion_torch}()},
\code{\link{sp_save}()},
\code{\link{summarize_emotion_space}()},
\code{\link{vector_a_cadena}()},
\code{\link{verificar_clave_openai}()}
}
\concept{utilidades}
