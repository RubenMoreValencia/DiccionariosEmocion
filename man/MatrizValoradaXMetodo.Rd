% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utilidades_datos.R
\name{MatrizValoradaXMetodo}
\alias{MatrizValoradaXMetodo}
\title{Generar matrices léxicas por método y diccionario de traducciones (opcional)}
\usage{
MatrizValoradaXMetodo(
  mdata,
  si_trad = FALSE,
  idioma_destino = "espanol",
  trad_fun = c("auto", "gpt", "traducea", "none"),
  model = "gpt-4o-mini",
  batch_size = 20,
  max_retries = 3
)
}
\arguments{
\item{mdata}{\code{matrix}/\code{data.frame} con filas = métodos (syuzhet, bing, afinn, nrc)
y columnas = tokens. Suele ser \code{resultados$MatrizSimplificadaTokensValorados$MatrizCol0}.}

\item{si_trad}{\code{logical}. Si \code{TRUE}, genera \code{$TraduccTokens} y vectores
\code{$TokenIdioma}, \code{$TokenIdiomaUnico}.}

\item{idioma_destino}{\code{character}. Idioma destino ("espanol","ingles","portugues","frances", etc.).}

\item{trad_fun}{\code{c("auto","gpt","traducea","none")}.
\itemize{
\item "auto": intenta \code{TraduceA()}, y si falla usa GPT.
\item "gpt": usa \code{vTraduceEn_gpt()}.
\item "traducea": usa \code{TraduceA()}.
\item "none": no traduce (devuelve estructuras sin diccionario).
}}

\item{model}{\code{character}. Modelo GPT (si \code{trad_fun="gpt"} o se cae a GPT en "auto").}

\item{batch_size}{\code{integer}. Tamaño de lote para GPT.}

\item{max_retries}{\code{integer}. Reintentos para GPT.}

\item{"gpt"}{(auto) TODO: describir parámetro.}

\item{"traducea"}{(auto) TODO: describir parámetro.}

\item{"none"}{(auto) TODO: describir parámetro.}
}
\value{
\code{list} con:
\itemize{
\item \code{MatrizCol0}: métodos × tokens (filtrada por columnas con algún ≠ 0).
\item \code{MatrizTranspuesta}: tokens × métodos.
\item \code{MatrizTranspuestaSinDup}: tokens × métodos (eliminando filas duplicadas por token).
\item \code{TraduccTokens}: \code{data.frame} (\code{Orig}, \code{IdioOrig}, \code{Traduccion}) si \code{si_trad=TRUE}, sino vacío.
\item \code{TokenIdioma}: vector alineado a \code{rownames(MatrizTranspuesta)} (si \code{si_trad=TRUE}).
\item \code{TokenIdiomaUnico}: idem, pero desambiguado en orden (si \code{si_trad=TRUE}).
\item \code{NumeroFilasConDup}, \code{NumeroFilasSinDup}: conteos útiles.
\item \code{IdiomaDestinoUsado}, \code{FuenteTraduccion}: metadatos.
}
}
\description{
Construye matrices léxicas (tokens × métodos: syuzhet, bing, afinn, nrc) listas para
el pipeline y, opcionalmente, un diccionario de traducciones para etiquetado.
\strong{No reescribe rownames} con el idioma destino (evita errores por duplicados).
}
\seealso{
Other matrices_valoradas: 
\code{\link{visualizar_coocurrencia_nrc}()},
\code{\link{visualizar_coocurrencia_nrc_v2}()},
\code{\link{visualizar_emociones_nrc}()}
}
\concept{matrices_valoradas}
