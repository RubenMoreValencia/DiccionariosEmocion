% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/visualizacion_modelos.R
\name{resumir_emociones_por_comentario}
\alias{resumir_emociones_por_comentario}
\title{Resumir emociones/lexicones por comentario a partir de tokens}
\usage{
resumir_emociones_por_comentario(
  lista_tokens,
  matriz_valores,
  columnas = NULL,
  normalizar = c("none", "row_sum", "zscore"),
  tolower = TRUE,
  quitar_acentos = TRUE,
  return_long = FALSE
)
}
\arguments{
\item{lista_tokens}{Lista de vectores de tokens por comentario. Si es \code{character},
se asumirá texto con tokens separados por espacios y se tokenizará con \code{strsplit}.}

\item{matriz_valores}{\code{data.frame} / \code{matrix} con \strong{rownames} = tokens y
\strong{columnas} = variables a resumir (p.ej., \code{syuzhet}, \code{bing}, \code{afinn}, \code{nrc}
o emociones NRC). Recomendado: \code{MVM$MatrizTranspuestaSinDup}.}

\item{columnas}{Vector de nombres de columnas a resumir. Si \code{NULL}, se usarán todas
las columnas numéricas de \code{matriz_valores}.}

\item{normalizar}{\code{c("none","row_sum","zscore")}. \code{"row_sum"} divide cada fila
por la suma de sus valores; \code{"zscore"} estandariza cada columna (media 0, sd 1).
Por defecto \code{"none"}.}

\item{tolower}{Logical. Si \code{TRUE}, convierte tokens y vocabulario a minúsculas. Default \code{TRUE}.}

\item{quitar_acentos}{Logical. Si \code{TRUE}, normaliza acentos (requiere \pkg{stringi}). Default \code{TRUE}.}

\item{return_long}{Logical. Si \code{TRUE}, devuelve además una versión \emph{long} con
columnas \code{Comentario}, \code{Variable}, \code{Valor}. Default \code{FALSE}.}

\item{"row_sum"}{(auto) TODO: describir parámetro.}

\item{"zscore"}{(auto) TODO: describir parámetro.}
}
\value{
Una lista con:
\describe{
\item{\code{resumen}}{data.frame ancho: una fila por comentario, columnas = variables resumidas.}
\item{\code{resumen_long}}{(opcional) data.frame largo con Comentario, Variable, Valor.}
\item{\code{tokens_fuera_vocab}}{lista de tokens por comentario que no están en el vocabulario.}
}
}
\description{
Descripción (auto). Completar con propósito, entradas y salidas.

Suma por comentario los puntajes de una matriz valorada por token (filas = tokens,
columnas = emociones o lexicones). Soporta normalización por fila, z-score y salida
en formato ancho o largo. Es tolerante a mayúsculas/acentos y a tokens no presentes.
}
\examples{
# Suponiendo:
# lista_de_tokens <- lapply(resultados$TextoSentencias, tokenizar_basico)
# matriz <- MVM$MatrizTranspuestaSinDup  # filas=tokens, cols=syuzhet/bing/afinn/nrc
out <- resumir_emociones_por_comentario(
  lista_tokens   = lista_de_tokens,
  matriz_valores = MVM$MatrizTranspuestaSinDup,
  columnas       = c("syuzhet","bing","afinn","nrc"),
  normalizar     = "none",
  return_long    = TRUE
)
head(out$resumen)
head(out$resumen_long)

}
